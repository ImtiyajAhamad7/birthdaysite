<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <title>Happy Birthday, Laiba ❤️</title>
</head>

<body>

  <div class="container" id="birthdayContent" style="display:none;">
    <!-- 3D Flip Birthday Card -->
    <div class="flip-card" tabindex="0" aria-label="Birthday card for Laiba, flip to see message">
      <div class="flip-card-inner">
        <div class="flip-card-front" aria-hidden="false">
          Happy Birthday, Laiba! 🎉
        </div>
        <div class="flip-card-back" aria-hidden="true">
          Hi Laiba,
          Main bohot lucky hoon ke tum meri zindagi mein ho. Tum meri khushi aur meri jaan ho. 💖
          Happy Birthday, Baby ❤️
          Love you, my Junior! 💫
          – Imtiyaj
        </div>
      </div>
    </div>

    <!-- Typing message -->
    <div class="typing-love" aria-live="polite" aria-atomic="true" aria-relevant="text">
      Laiba, I love you endlessly Baby 💖
    </div>

    <!-- Button to reveal story -->
    <button id="showTimelineBtn" aria-expanded="false" aria-controls="timelineSection">See Our Story Timeline ✨</button>

    <!-- Timeline Section -->
    <div class="timeline" id="timelineSection" style="display:none;">
      <div class="timeline-event">
        <h3>First Meeting</h3>
        <p>Wo pal jab hum mile the, mujhe laga meri duniya badal jaayegi. Aur aisa hi hua. ❤️</p>
      </div>
      <div class="timeline-event">
        <h3>First Date</h3>
        <p>Woh chai ki dukaan aur wo hasi-mazaak, kabhi nahi bhoolunga. Tumhara wo smile aaj bhi yaad hai.</p>
      </div>
      <div class="timeline-event">
        <h3>Our First Trip</h3>
        <p>Jab hum saath gaye the, har pal yaadgar ban gaya. Tumhari hasi aur thodi si shararat, perfect combo! 🥰</p>
      </div>
      <div class="timeline-event">
        <h3>Everyday Moments</h3>
        <p>Har chhoti baat jo humne saath bitayi, mere liye ek khoobsurat yaad hai.</p>
      </div>
    </div>

    <!-- Funny Roast Section -->
    <div class="roast" aria-label="Funny roast about Laiba's habits">
      <h2>Tumhari Kuchh *Khaas* Aadatein, Laiba 🤭🔥</h2>
      <p>🛌 <strong>Sona:</strong> Laiba, tumhe neend itni pyaari hai ki agar "Sleeping Queen" ka award hota toh tum 10
        saal se unbeaten champion hoti 😴</p>
      <p>🍽️ <strong>Khaana:</strong> Jaise hi tumhara khana aata hai, main Imtiyaj tumhare liye default invisibility
        mode mein chala jaata hoon. Tum sirf plate dekhti ho, main kis kone mein chhup gaya — tumhe fark hi nahi padta
        😂</p>
      <p>📱 <strong>Khaate waqt YouTube:</strong> Khana bina YouTube ke? Na baba na. Chahe dahi ho ya pizza, bina kisi
        random vlog ya “cute puppy video” ke tumhara pet bhar hi nahi sakta 😅</p>
      <p>🍜 <strong>Spill Queen:</strong> Tumhare aas-paas hamesha kuch na kuch girta hi rehta hai — kabhi paani ka
        glass, kabhi khud tum! Agar NASA tumhe dekhe toh bole: “Gravity yahin se start hui thi.” 🚀😂</p>
      <p>🤦‍♀️ <strong>Bonus:</strong> Laiba, tum itni mast ho ki tumhara khud gir jaana bhi ek event hota hai. Matlab
        agar Olympics mein “Graceful Falls” hoti toh tum gold medal pakka jeet jaati! 🥇🤣</p>
    </div>

    <!-- Gallery Section -->
    <div class="gallery" aria-label="Photo gallery of Laiba">
      <h2>Memories in Pictures 📸</h2>
      <img src="./img/meandhr.jpg" alt="Laiba smiling under sunlight" />
      <img src="./img//cute.jpg" alt="Laiba enjoying coffee" />
      <img src="./img/mehr.jpg" alt="Laiba laughing candidly" />
      <img src="./img/perfect.jpg" alt="Laiba posing with nature" />
      <img src="./img/ghibli.jpg" alt="Laiba looking at camera smiling" />
    </div>
  </div>

  <!-- Countdown message shown before birthday -->
  <div id="countdown" role="alert" aria-live="polite" style="display:none;"></div>

  <!-- Floating Hearts Container -->
  <div id="floating-hearts" aria-hidden="true"></div>

  <!-- Confetti Canvas -->
  <canvas id="confetti-canvas" aria-hidden="true"></canvas>

  <script>
    // Date check logic
    function daysBetween(date1, date2) {
      const diffTime = date2.getTime() - date1.getTime();
      return Math.ceil(diffTime / (1000 * 60 * 60 * 24));
    }

    const today = new Date();
    const thisYear = today.getFullYear();
    const birthday = new Date(thisYear, 5, 26); // June is month 5 (0-indexed)

    // If birthday already passed this year, you can optionally change birthday to next year
    if (today > birthday) {
      // Uncomment below if you want to count for next year's birthday:
      // birthday.setFullYear(thisYear + 1);
    }

    const daysLeft = daysBetween(today, birthday);

    const countdownEl = document.getElementById('countdown');
    const birthdayContentEl = document.getElementById('birthdayContent');
    const showTimelineBtn = document.getElementById('showTimelineBtn');
    const timelineSection = document.getElementById('timelineSection');

    if (daysLeft > 1) {
      // Before birthday: show countdown message only
      birthdayContentEl.style.display = 'none';
      countdownEl.style.display = 'block';
      countdownEl.textContent = `
    I hope tmhara din axa rha ho baby , chlo ab so jao ya fir mujhe call kr skti ho 😊.
    ${daysLeft} day${daysLeft > 1 ? 's' : ''} left🎉💖,
     `;
    }
    else if (daysLeft === 1) {
      birthdayContentEl.style.display = 'none';
      countdownEl.style.display = 'block';
      countdownEl.textContent = `Ek din baad tum thodi si aur pyaari ho jaogi… aur haan, thodi si buddhi bhi 😜
Lekin tumhara yeh budhapa bhi mujhe har din aur zyada pyaara lagta hai, meri jaan 💖
Restro toh tumne book kar liya, lekin mujhe invite karna bhool gayi?  
    ${daysLeft} day${daysLeft > 1 ? 's' : ''} left🎉💖 `
    }
    else if (daysLeft === 0) {
      // On birthday: show all content
      countdownEl.style.display = 'none';
      birthdayContentEl.style.display = 'block';
    } else {
      // After birthday: you can decide what to show
      countdownEl.style.display = 'block';
      birthdayContentEl.style.display = 'none';
      countdownEl.textContent = `Laiba ab kya birthday khtm ho gya baby ab site pr aa hi gyi ho wapis to mujhe ek snap send kr dena ekdm pyara sa❤️`;
    }

    // Toggle timeline on button click
    if (showTimelineBtn) {
      showTimelineBtn.addEventListener('click', () => {
        const visible = timelineSection.style.display === 'block';
        timelineSection.style.display = visible ? 'none' : 'block';
        showTimelineBtn.setAttribute('aria-expanded', String(!visible));
        showTimelineBtn.textContent = visible ? 'See Our Story Timeline ✨' : 'Hide Our Story Timeline ✨';
      });
    }

    // Floating Hearts Animation
    const floatingHeartsContainer = document.getElementById('floating-hearts');
    function createFloatingHeart() {
      const heart = document.createElement('div');
      heart.classList.add('heart');
      heart.textContent = '❤️';
      heart.style.left = Math.random() * window.innerWidth + 'px';
      heart.style.fontSize = (10 + Math.random() * 20) + 'px';
      heart.style.animationDuration = (5 + Math.random() * 5) + 's';
      floatingHeartsContainer.appendChild(heart);

      setTimeout(() => {
        heart.remove();
      }, 6000);
    }
    setInterval(createFloatingHeart, 350);

    // Click to create bloom hearts
    document.body.addEventListener('click', (e) => {
      const bloom = document.createElement('div');
      bloom.classList.add('bloom-heart');
      bloom.textContent = '❤️';
      bloom.style.left = e.pageX + 'px';
      bloom.style.top = e.pageY + 'px';
      document.body.appendChild(bloom);
      setTimeout(() => {
        bloom.remove();
      }, 1000);
    });

    // Confetti animation using canvas
    const confettiCanvas = document.getElementById('confetti-canvas');
    const ctx = confettiCanvas.getContext('2d');
    let W, H;
    let confettiPieces = [];

    function resizeCanvas() {
      W = window.innerWidth;
      H = window.innerHeight;
      confettiCanvas.width = W;
      confettiCanvas.height = H;
    }

    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();

    function randomRange(min, max) {
      return Math.random() * (max - min) + min;
    }

    class ConfettiPiece {
      constructor() {
        this.x = Math.random() * W;
        this.y = Math.random() * H - H;
        this.size = randomRange(7, 12);
        this.speed = randomRange(1, 3);
        this.angle = Math.random() * 360;
        this.rotationSpeed = randomRange(2, 6);
        this.color = `hsl(${randomRange(340, 360)}, 80%, 60%)`;
        this.opacity = randomRange(0.6, 1);
      }

      update() {
        this.y += this.speed;
        this.angle += this.rotationSpeed;
        if (this.y > H) {
          this.y = -this.size;
          this.x = Math.random() * W;
        }
      }

      draw() {
        ctx.save();
        ctx.translate(this.x, this.y);
        ctx.rotate(this.angle * Math.PI / 180);
        ctx.fillStyle = this.color;
        ctx.globalAlpha = this.opacity;
        ctx.beginPath();
        ctx.moveTo(0, -this.size / 2);
        ctx.bezierCurveTo(this.size / 2, -this.size / 2, this.size / 2, this.size / 3, 0, this.size / 1.2);
        ctx.bezierCurveTo(-this.size / 2, this.size / 3, -this.size / 2, -this.size / 2, 0, -this.size / 2);
        ctx.closePath();
        ctx.fill();
        ctx.restore();
      }
    }

    function createConfetti() {
      for (let i = 0; i < 40; i++) {
        confettiPieces.push(new ConfettiPiece());
      }
    }
    createConfetti();

    function animateConfetti() {
      ctx.clearRect(0, 0, W, H);
      confettiPieces.forEach(p => {
        p.update();
        p.draw();
      });
      requestAnimationFrame(animateConfetti);
    }
    animateConfetti();

  </script>

</body>

</html>